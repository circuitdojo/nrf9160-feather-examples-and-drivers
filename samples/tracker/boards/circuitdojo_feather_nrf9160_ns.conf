#
# Copyright (c) 2021 Circuit Dojo, Inc.
#
# SPDX-License-Identifier: LicenseRef-Circuit-Dojo-5-Clause

# UART0 GPIO Control
CONFIG_UART_0_GPIO_MANAGEMENT=y

# Low poer for GPIO
CONFIG_GPIO_NRF_INT_EDGE_USING_SENSE=y

# SPI Flash
CONFIG_SPI=y
CONFIG_SPI_NOR=y
CONFIG_SPI_NOR_FLASH_LAYOUT_PAGE_SIZE=4096

# Nordic specific external flash stuff
CONFIG_PM_EXTERNAL_FLASH=y
CONFIG_PM_EXTERNAL_FLASH_DEV_NAME="W25Q32JV"
CONFIG_PM_EXTERNAL_FLASH_BASE=0x0
CONFIG_PM_EXTERNAL_FLASH_SIZE=0x400000

# COEX0 is used to enable the GPS power supply, but it has to be configured to do so.
CONFIG_NRF9160_GPS=y
CONFIG_NRF9160_GPS_SET_COEX0=y
CONFIG_NRF9160_GPS_COEX0_STRING="AT%XCOEX0=1,1,1565,1586"

# Controlling power supply to obtain fix
CONFIG_GPS_POWER_SUPPLY_MODE_OVERRIDE=y

# Adding I2C
CONFIG_I2C=y

# Add the accelerometer
CONFIG_SENSOR=y
CONFIG_LIS2DH=y
CONFIG_LIS2DH_TRIGGER_GLOBAL_THREAD=y
CONFIG_LIS2DH_OPER_MODE_LOW_POWER=y